import{h as O,J as q,P as F,n as I,G as b,L as B,o as f,c as x,a as r,b as e,w as i,I as n,j as J,d as m,t as g,F as R,A as z,v as L,y as W}from"./C4oi7rqb.js";import{_ as G}from"./DoWI4-x-.js";import{_ as M}from"./DdAFE-Z0.js";import{_ as P}from"./BUDjGFlJ.js";import{_ as H}from"./BTxzdq8K.js";import{_ as X}from"./BXpTFcnK.js";import{_ as Y}from"./C595FHAB.js";import{_ as K}from"./DQOsUHu-.js";import{_ as Q}from"./CSiqqgES.js";import{_ as Z}from"./gEWomNyw.js";import{u as ee}from"./BZ80iXJq.js";import{u as te}from"./NTJ_zpcL.js";import{$ as oe}from"./BuWc7qdG.js";import{A as k,a as ne}from"./Cy9l6Tiu.js";import{z as s}from"./DXqQCM1T.js";import"./CofNhih0.js";import"./C8OBkV36.js";import"./C9mN9a5t.js";import"./CwFyS61N.js";import"./CgTedULm.js";const ae={class:"mb-6"},ie={class:"flex justify-end gap-2"},le={class:"border-t border-gray-50/50 py-6 mt-6 flex flex-col gap-4"},se={class:"flex flex-col gap-4"},re={class:"px-3 py-2 border-b border-gray-500/50 flex justify-between items-center"},ue={class:"text-xs"},de={class:"px-3 py-2"},ce={class:"flex justify-end"},me={class:"flex justify-end gap-2"},Ne=O({__name:"exercise",async setup(pe){let p,h;const U=q(),{companyId:V}=([p,h]=F(()=>ee()),p=await p,h(),p),{data:C}=te(k.Company.Exercises.url(V.value)),w=[{key:"no",label:"#"},{key:"name",label:"Name"},{key:"type",label:"type"},{key:"difficulty",label:"difficulty"},{key:"duration",label:"Duration"},{key:"actions"}],E=I(()=>{var u;return(((u=C.value)==null?void 0:u.exercises)||[]).map((t,l)=>({no:l+1,name:t.name,duration:t.duration+" seconds",type:t.type,difficulty:t.difficulty}))}),$=u=>[[{label:"Edit",icon:"i-heroicons-pencil-square-20-solid",click:()=>console.log("Edit",u.id)},{label:"Duplicate",icon:"i-heroicons-document-duplicate-20-solid"}],[{label:"Archive",icon:"i-heroicons-archive-box-20-solid"},{label:"Move",icon:"i-heroicons-arrow-right-circle-20-solid"}],[{label:"Delete",icon:"i-heroicons-trash-20-solid"}]],a=(()=>{const u={isOpen:b(!1),mode:b("create"),schema:s.object({name:s.string().min(3).max(255),description:s.string().min(3).max(255),thumbnail:s.string().url().optional(),type:s.enum(["cardio","strength","flexibility","balance","endurance","power","speed","agility","coordination","reaction","mobility","stability","other"]),difficulty:s.enum(["expert","intermediate","advanced","beginner","professional","olympic","paralympic","other"]),instructions:s.array(s.object({type:s.enum(["instruction","rest"]),duration:s.number().int().min(0),name:s.string().min(3).max(255).optional(),content:s.object({lottie:s.string().url().optional(),video:s.string().url().optional(),image:s.string().url().optional()}).optional()}))}),inputs:b({name:"",description:"",thumbnail:"",type:"cardio",difficulty:"expert",duration:0,instructions:[{content:{lottie:"https://assets2.lottiefiles.com/packages/lf20_dwydvW8JJ7.json",video:"https://www.youtube.com/watch?v=LXuVHYAfyGU",image:"https://static.vecteezy.com/system/resources/previews/005/178/354/original/woman-doing-jump-rope-skipping-cardio-exercise-flat-illustration-isolated-on-white-background-free-vector.jpg"},name:"Jumping rope",duration:30,type:"instruction"},{duration:30,type:"rest"}]})};return{...u,onSubmitRegister:async t=>{if(console.log("onSubmitRegister",t),u.mode.value==="create"){console.log("Create Exercise");try{const l=await oe(k.Company.CreateExercises.url(V.value),{method:"POST",body:JSON.stringify(u.inputs.value)});console.log(l),U.add({title:"Exercise created"}),u.isOpen.value=!1}catch(l){l instanceof B&&l.response&&ne(l.response),console.error(l)}}else console.log("Edit Exercise")}}})();return(u,t)=>{const l=J,j=G,S=M,_=P,d=H,A=X,y=Y,T=K,D=Q,N=Z;return f(),x("div",null,[r("div",null,[r("div",ae,[r("div",ie,[e(l,{onClick:t[0]||(t[0]=o=>n(a).isOpen.value=!0)},{default:i(()=>[m("Create Exercise")]),_:1})])]),e(S,{columns:w,rows:n(E)},{"actions-data":i(({row:o})=>[e(j,{items:$(o)},{default:i(()=>[e(l,{color:"gray",variant:"ghost",icon:"i-heroicons-ellipsis-horizontal-20-solid"})]),_:2},1032,["items"])]),_:1},8,["rows"])]),e(N,{modelValue:n(a).isOpen.value,"onUpdate:modelValue":t[8]||(t[8]=o=>n(a).isOpen.value=o)},{default:i(()=>[e(D,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:i(()=>[m(g(n(a).mode.value==="create"?"Create":"Edit")+" Exercise ",1)]),footer:i(()=>[r("div",me,[e(l,{color:"gray",variant:"ghost",onClick:t[7]||(t[7]=o=>n(a).isOpen.value=!1)},{default:i(()=>[m("Cancel")]),_:1}),e(l,{color:"primary",onClick:n(a).onSubmitRegister},{default:i(()=>[m(" Save ")]),_:1},8,["onClick"])])]),default:i(()=>[e(T,{schema:n(a).schema,state:n(a).inputs.value,class:"flex flex-col gap-4",onSubmit:n(a).onSubmitRegister},{default:i(()=>[e(d,{label:"Name",name:"name",required:"",class:"flex-1"},{default:i(()=>[e(_,{modelValue:n(a).inputs.value.name,"onUpdate:modelValue":t[1]||(t[1]=o=>n(a).inputs.value.name=o),placeholder:"name"},null,8,["modelValue"])]),_:1}),e(d,{label:"Description",name:"description",required:"",class:"flex-1"},{default:i(()=>[e(A,{modelValue:n(a).inputs.value.description,"onUpdate:modelValue":t[2]||(t[2]=o=>n(a).inputs.value.description=o),placeholder:"description"},null,8,["modelValue"])]),_:1}),e(d,{label:"Thumbnail",name:"thumbnail",class:"flex-1"},{default:i(()=>[e(_,{modelValue:n(a).inputs.value.thumbnail,"onUpdate:modelValue":t[3]||(t[3]=o=>n(a).inputs.value.thumbnail=o),placeholder:"thumbnail"},null,8,["modelValue"])]),_:1}),e(d,{label:"Type",name:"type",required:"",class:"flex-1"},{default:i(()=>[e(y,{modelValue:n(a).inputs.value.type,"onUpdate:modelValue":t[4]||(t[4]=o=>n(a).inputs.value.type=o),options:["cardio","strength","flexibility","balance","endurance","power","speed","agility","coordination","reaction","mobility","stability","other"]},null,8,["modelValue"])]),_:1}),e(d,{label:"Difficulty",name:"difficulty",required:"",class:"flex-1"},{default:i(()=>[e(y,{modelValue:n(a).inputs.value.difficulty,"onUpdate:modelValue":t[5]||(t[5]=o=>n(a).inputs.value.difficulty=o),options:["expert","intermediate","advanced","beginner","professional","olympic","paralympic","other"]},null,8,["modelValue"])]),_:1})]),_:1},8,["schema","state","onSubmit"]),r("div",le,[r("div",null,"Instructions ("+g(n(a).inputs.value.instructions.length)+")",1),r("div",se,[(f(!0),x(R,null,z(n(a).inputs.value.instructions,(o,v)=>(f(),x("div",{key:v,class:"border rounded border-gray-500/50"},[r("div",re,[r("div",null,"Intruction "+g(v+1),1),r("div",ue,[e(l,{color:"red",variant:"ghost",icon:"i-heroicons-trash-20-solid",size:"xs",onClick:c=>n(a).inputs.value.instructions.splice(v,1)},null,8,["onClick"])])]),r("div",de,[e(d,{label:"Type",name:"type",required:"",class:"flex-1"},{default:i(()=>[e(y,{modelValue:o.type,"onUpdate:modelValue":c=>o.type=c,options:["instruction","rest"]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{label:"Duration",name:"duration",required:"",class:"flex-1"},{default:i(()=>[e(_,{modelValue:o.duration,"onUpdate:modelValue":c=>o.duration=c,type:"number",placeholder:"duration"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o.type=="instruction"?(f(),L(d,{key:0,label:"Name",name:"name",class:"flex-1"},{default:i(()=>[e(_,{modelValue:o.name,"onUpdate:modelValue":c=>o.name=c,placeholder:"name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):W("",!0)])]))),128)),r("div",ce,[e(l,{onClick:t[6]||(t[6]=o=>n(a).inputs.value.instructions.push({type:"instruction",duration:0}))},{default:i(()=>[m("Add Instruction")]),_:1})])])])]),_:1})]),_:1},8,["modelValue"])])}}});export{Ne as default};
