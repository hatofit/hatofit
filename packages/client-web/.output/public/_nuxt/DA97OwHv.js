import{_ as v}from"./CQlPFy4X.js";import{_ as P}from"./Cxw5_Ya5.js";import{_ as U}from"./vGdgi-pb.js";import{_ as N}from"./4x2wAUPl.js";import{h as A,a7 as C,M as D,D as B,H as p,o as h,c as k,b as e,w as l,x as $,I as t,a3 as E,a8 as O,a as n,k as j}from"./BqiWrrJw.js";import{_ as T}from"./ulwWl0-q.js";import{_ as I}from"./DXBzYfzJ.js";import{$ as F}from"./CTQoGjjg.js";import{A as L}from"./CxOUCrNJ.js";import"./Cb9RPHSR.js";import"./DqNYuvwW.js";import"./Doeqeqsn.js";import"./q6RYS1Rg.js";import"./zdYCwtVL.js";const M={class:"flex flex-col gap-4"},S=n("h2",{class:"text-xl font-semibold"},"Profile",-1),G={class:"flex gap-4 flex-1 w-full"},H={class:"flex gap-4 flex-1 w-full"},W={class:"flex gap-4 flex-1 w-full"},J={class:"flex justify-end"},R=n("h2",{class:"text-xl font-semibold"},"Change Email",-1),Y={class:"flex justify-end"},q=n("h2",{class:"text-xl font-semibold"},"Change Password",-1),z={class:"flex justify-end"},K=n("h2",{class:"text-xl font-semibold"},"Delete Account",-1),Q=n("p",{class:"text-sm"}," Deleting your account will permanently remove all your data. ",-1),X={class:"flex justify-end"},Z=n("h2",{class:"text-xl font-semibold"},"Delete Account",-1),ee=n("p",{class:"text-sm"}," Are you sure you want to delete your account? This action cannot be undone. ",-1),le={class:"flex justify-end gap-2"},ge=A({__name:"profile",setup(oe){const x=C(),g=D(),w=B(),s=p({firstName:"John",lastName:"Doe",email:"john.doe@mail.com",dateOfBirth:"",weight:70,height:50,gender:"male"}),i=p({oldPassword:"",newPassword:"",confirmPassword:""}),u=p(!1),V=async()=>{u.value=!1,x.start();try{const c=await F(L.Auth.Delete.url(),{method:"DELETE"});console.log(c),g.add({title:"Account Deleted",description:"Your account has been deleted successfully, logging you out.",color:"green"}),setTimeout(()=>{w.signOut({callbackUrl:"/auth/login",redirect:!0})},2e3)}catch(c){console.error(c),g.add({title:"Error",description:"An error occurred while deleting your account, please try again later.",color:"red"})}x.finish()};return(c,o)=>{const r=v,d=P,y=U,_=N,m=j,f=T,b=I;return h(),k("div",M,[e(f,null,{header:l(()=>[S]),footer:l(()=>[n("div",J,[e(m,{variant:"solid",color:"primary",label:"Save"})])]),default:l(()=>[e(_,{state:t(s),class:"flex flex-col gap-4"},{default:l(()=>[n("div",G,[e(d,{label:"First Name",name:"firstName",class:"flex-1"},{default:l(()=>[e(r,{modelValue:t(s).firstName,"onUpdate:modelValue":o[0]||(o[0]=a=>t(s).firstName=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Last Name",name:"lastName",class:"flex-1"},{default:l(()=>[e(r,{modelValue:t(s).lastName,"onUpdate:modelValue":o[1]||(o[1]=a=>t(s).lastName=a)},null,8,["modelValue"])]),_:1})]),n("div",H,[e(d,{label:"Date of Birth",name:"dateOfBirth",class:"flex-1"},{default:l(()=>[e(r,{type:"date",modelValue:t(s).dateOfBirth,"onUpdate:modelValue":o[2]||(o[2]=a=>t(s).dateOfBirth=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Gender",name:"gender",class:"flex-1"},{default:l(()=>[e(y,{modelValue:t(s).gender,"onUpdate:modelValue":o[3]||(o[3]=a=>t(s).gender=a),options:["male","female"]},null,8,["modelValue"])]),_:1})]),n("div",W,[e(d,{label:"Weight",name:"weight",class:"flex-1"},{default:l(()=>[e(r,{type:"number",modelValue:t(s).weight,"onUpdate:modelValue":o[4]||(o[4]=a=>t(s).weight=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Height",name:"height",class:"flex-1"},{default:l(()=>[e(r,{type:"number",modelValue:t(s).height,"onUpdate:modelValue":o[5]||(o[5]=a=>t(s).height=a)},null,8,["modelValue"])]),_:1})])]),_:1},8,["state"])]),_:1}),e(f,{class:""},{header:l(()=>[R]),footer:l(()=>[n("div",Y,[e(m,{variant:"solid",color:"primary",label:"Change Email"})])]),default:l(()=>[e(_,{state:t(s),class:"flex flex-col gap-4"},{default:l(()=>[e(d,{label:"Email",name:"email"},{default:l(()=>[e(r,{modelValue:t(s).email,"onUpdate:modelValue":o[6]||(o[6]=a=>t(s).email=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["state"])]),_:1}),e(f,{class:"flex-1"},{header:l(()=>[q]),footer:l(()=>[n("div",z,[e(m,{variant:"solid",color:"primary",label:"Change Password"})])]),default:l(()=>[e(_,{state:t(i),class:"flex flex-col gap-4"},{default:l(()=>[e(d,{label:"Old Password",name:"oldPassword"},{default:l(()=>[e(r,{type:"password",modelValue:t(i).oldPassword,"onUpdate:modelValue":o[7]||(o[7]=a=>t(i).oldPassword=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"New Password",name:"newPassword"},{default:l(()=>[e(r,{type:"password",modelValue:t(i).newPassword,"onUpdate:modelValue":o[8]||(o[8]=a=>t(i).newPassword=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Confirm Password",name:"confirmPassword"},{default:l(()=>[e(r,{type:"password",modelValue:t(i).confirmPassword,"onUpdate:modelValue":o[9]||(o[9]=a=>t(i).confirmPassword=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["state"])]),_:1}),e(f,{class:"flex-1"},{header:l(()=>[K]),footer:l(()=>[n("div",X,[e(m,{variant:"solid",color:"primary",label:"Delete",onClick:o[10]||(o[10]=a=>u.value=!0)})])]),default:l(()=>[Q]),_:1}),(h(),$(O,{to:"body"},[e(b,{modelValue:t(u),"onUpdate:modelValue":o[12]||(o[12]=a=>E(u)?u.value=a:null)},{default:l(()=>[e(f,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:l(()=>[Z]),footer:l(()=>[n("div",le,[e(m,{variant:"solid",color:"primary",label:"Delete",onClick:V}),e(m,{variant:"outline",color:"gray",label:"Cancel",onClick:o[11]||(o[11]=a=>u.value=!1)})])]),default:l(()=>[ee]),_:1})]),_:1},8,["modelValue"])]))])}}});export{ge as default};
