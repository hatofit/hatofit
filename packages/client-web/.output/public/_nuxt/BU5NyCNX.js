import{_ as N,a as T}from"./4-_aeM40.js";import{_ as O}from"./Cp-wZBFt.js";import{_ as j}from"./IDi5nSnl.js";import{_ as H,m as E,g as U,h as A,l as F,n as D,q as k,a5 as w,o as b,x as P,w as o,b as e,z as x,a as r,A as v,y as S,v as I,a7 as R,L as G,D as L,P as C,c as W,H as t,a6 as z,a8 as M,k as J}from"./C2VZCrLL.js";import{_ as Y}from"./EnXXcHgJ.js";import{u as q}from"./mVLOGpJV.js";import{W as K,G as Q,S as X,h as Z}from"./V-e79ADw.js";import{l as ee}from"./BVCNrYxN.js";import{$ as ae}from"./B1L_3MPY.js";import{A as oe}from"./BUTGLEXC.js";import"./CqmuLGFh.js";import"./Ch8RYROF.js";import"./YBhKZdnL.js";const le={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}},te=E(U.ui.strategy,U.ui.modal,le),se=A({components:{HDialog:K,HDialogPanel:Q,TransitionRoot:X,TransitionChild:Z},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented"],setup(a,{emit:f}){const{ui:c,attrs:h}=F("modal",D(a,"ui"),te,D(a,"class")),n=k({get(){return a.modelValue},set(p){f("update:modelValue",p)}}),d=k(()=>a.transition?{...c.value.transition}:{});function i(p){if(a.preventClose){f("close-prevented");return}n.value=p,f("close")}return ee(()=>q("$HAJMhYDoe7")),{ui:c,attrs:h,isOpen:n,transitionClass:d,close:i}}});function ne(a,f,c,h,n,d){const i=w("TransitionChild"),p=w("HDialogPanel"),g=w("HDialog"),l=w("TransitionRoot");return b(),P(l,{appear:a.appear,show:a.isOpen,as:"template"},{default:o(()=>[e(g,x({class:a.ui.wrapper},a.attrs,{onClose:a.close}),{default:o(()=>[a.overlay?(b(),P(i,x({key:0,as:"template",appear:a.appear},a.ui.overlay.transition),{default:o(()=>[r("div",{class:v([a.ui.overlay.base,a.ui.overlay.background])},null,2)]),_:1},16,["appear"])):S("",!0),r("div",{class:v(a.ui.inner)},[r("div",{class:v([a.ui.container,!a.fullscreen&&a.ui.padding])},[e(i,x({as:"template",appear:a.appear},a.transitionClass),{default:o(()=>[e(p,{class:v([a.ui.base,a.ui.background,a.ui.ring,a.ui.shadow,a.fullscreen?a.ui.fullscreen:[a.ui.width,a.ui.height,a.ui.rounded,a.ui.margin]])},{default:o(()=>[I(a.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show"])}const re=H(se,[["render",ne]]),ie={class:"flex flex-col gap-4"},de=r("h2",{class:"text-xl font-semibold"},"Profile",-1),ue={class:"flex gap-4 flex-1 w-full"},me={class:"flex gap-4 flex-1 w-full"},fe={class:"flex gap-4 flex-1 w-full"},pe={class:"flex justify-end"},ce=r("h2",{class:"text-xl font-semibold"},"Change Email",-1),ge={class:"flex justify-end"},_e=r("h2",{class:"text-xl font-semibold"},"Change Password",-1),ye={class:"flex justify-end"},he=r("h2",{class:"text-xl font-semibold"},"Delete Account",-1),we=r("p",{class:"text-sm"}," Deleting your account will permanently remove all your data. ",-1),ve={class:"flex justify-end"},be=r("h2",{class:"text-xl font-semibold"},"Delete Account",-1),Ve=r("p",{class:"text-sm"}," Are you sure you want to delete your account? This action cannot be undone. ",-1),xe={class:"flex justify-end gap-2"},Ee=A({__name:"profile",setup(a){const f=R(),c=G(),h=L(),n=C({firstName:"John",lastName:"Doe",email:"john.doe@mail.com",dateOfBirth:"",weight:70,height:50,gender:"male"}),d=C({oldPassword:"",newPassword:"",confirmPassword:""}),i=C(!1),p=async()=>{i.value=!1,f.start();try{const g=await ae(oe.Auth.Delete.url(),{method:"DELETE"});console.log(g),c.add({title:"Account Deleted",description:"Your account has been deleted successfully, logging you out.",color:"green"}),setTimeout(()=>{h.signOut({callbackUrl:"/auth/login",redirect:!0})},2e3)}catch(g){console.error(g),c.add({title:"Error",description:"An error occurred while deleting your account, please try again later.",color:"red"})}f.finish()};return(g,l)=>{const m=N,u=T,B=O,V=j,_=J,y=Y,$=re;return b(),W("div",ie,[e(y,null,{header:o(()=>[de]),footer:o(()=>[r("div",pe,[e(_,{variant:"solid",color:"primary",label:"Save"})])]),default:o(()=>[e(V,{state:t(n),class:"flex flex-col gap-4"},{default:o(()=>[r("div",ue,[e(u,{label:"First Name",name:"firstName",class:"flex-1"},{default:o(()=>[e(m,{modelValue:t(n).firstName,"onUpdate:modelValue":l[0]||(l[0]=s=>t(n).firstName=s)},null,8,["modelValue"])]),_:1}),e(u,{label:"Last Name",name:"lastName",class:"flex-1"},{default:o(()=>[e(m,{modelValue:t(n).lastName,"onUpdate:modelValue":l[1]||(l[1]=s=>t(n).lastName=s)},null,8,["modelValue"])]),_:1})]),r("div",me,[e(u,{label:"Date of Birth",name:"dateOfBirth",class:"flex-1"},{default:o(()=>[e(m,{type:"date",modelValue:t(n).dateOfBirth,"onUpdate:modelValue":l[2]||(l[2]=s=>t(n).dateOfBirth=s)},null,8,["modelValue"])]),_:1}),e(u,{label:"Gender",name:"gender",class:"flex-1"},{default:o(()=>[e(B,{modelValue:t(n).gender,"onUpdate:modelValue":l[3]||(l[3]=s=>t(n).gender=s),options:["male","female"]},null,8,["modelValue"])]),_:1})]),r("div",fe,[e(u,{label:"Weight",name:"weight",class:"flex-1"},{default:o(()=>[e(m,{type:"number",modelValue:t(n).weight,"onUpdate:modelValue":l[4]||(l[4]=s=>t(n).weight=s)},null,8,["modelValue"])]),_:1}),e(u,{label:"Height",name:"height",class:"flex-1"},{default:o(()=>[e(m,{type:"number",modelValue:t(n).height,"onUpdate:modelValue":l[5]||(l[5]=s=>t(n).height=s)},null,8,["modelValue"])]),_:1})])]),_:1},8,["state"])]),_:1}),e(y,{class:""},{header:o(()=>[ce]),footer:o(()=>[r("div",ge,[e(_,{variant:"solid",color:"primary",label:"Change Email"})])]),default:o(()=>[e(V,{state:t(n),class:"flex flex-col gap-4"},{default:o(()=>[e(u,{label:"Email",name:"email"},{default:o(()=>[e(m,{modelValue:t(n).email,"onUpdate:modelValue":l[6]||(l[6]=s=>t(n).email=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["state"])]),_:1}),e(y,{class:"flex-1"},{header:o(()=>[_e]),footer:o(()=>[r("div",ye,[e(_,{variant:"solid",color:"primary",label:"Change Password"})])]),default:o(()=>[e(V,{state:t(d),class:"flex flex-col gap-4"},{default:o(()=>[e(u,{label:"Old Password",name:"oldPassword"},{default:o(()=>[e(m,{type:"password",modelValue:t(d).oldPassword,"onUpdate:modelValue":l[7]||(l[7]=s=>t(d).oldPassword=s)},null,8,["modelValue"])]),_:1}),e(u,{label:"New Password",name:"newPassword"},{default:o(()=>[e(m,{type:"password",modelValue:t(d).newPassword,"onUpdate:modelValue":l[8]||(l[8]=s=>t(d).newPassword=s)},null,8,["modelValue"])]),_:1}),e(u,{label:"Confirm Password",name:"confirmPassword"},{default:o(()=>[e(m,{type:"password",modelValue:t(d).confirmPassword,"onUpdate:modelValue":l[9]||(l[9]=s=>t(d).confirmPassword=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["state"])]),_:1}),e(y,{class:"flex-1"},{header:o(()=>[he]),footer:o(()=>[r("div",ve,[e(_,{variant:"solid",color:"primary",label:"Delete",onClick:l[10]||(l[10]=s=>i.value=!0)})])]),default:o(()=>[we]),_:1}),(b(),P(M,{to:"body"},[e($,{modelValue:t(i),"onUpdate:modelValue":l[12]||(l[12]=s=>z(i)?i.value=s:null)},{default:o(()=>[e(y,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:o(()=>[be]),footer:o(()=>[r("div",xe,[e(_,{variant:"solid",color:"primary",label:"Delete",onClick:p}),e(_,{variant:"outline",color:"gray",label:"Cancel",onClick:l[11]||(l[11]=s=>i.value=!1)})])]),default:o(()=>[Ve]),_:1})]),_:1},8,["modelValue"])]))])}}});export{Ee as default};
