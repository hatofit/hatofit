import{h as V,D as z,n as x,K as D,P as G,I as n,o as m,c as g,b as o,w as s,y as E,a as e,F as S,A as H,t as _,x as R,v as K,j as W,M as q,e as J}from"./C4oi7rqb.js";import{_ as O}from"./DoWI4-x-.js";import{_ as Q}from"./Dz4E4LkK.js";import{m as X,x as Z,p as ee,y as oe,I as te}from"./C9mN9a5t.js";import{_ as se}from"./CSiqqgES.js";import{_ as ae}from"./DdAFE-Z0.js";import{u as b}from"./NTJ_zpcL.js";import{g as ne}from"./ChNdrkBa.js";import{A as h}from"./Cy9l6Tiu.js";import"./CofNhih0.js";import"./C8OBkV36.js";import"./DCZ3GSQN.js";import"./CwFyS61N.js";import"./DW00qQ9v.js";const le={key:0,class:"flex flex-col gap-4"},re={class:"absolute z-10 top-0 right-0 m-4"},ce=e("div",{class:"font-semibold mb-4"},"Your Result on this Company Today",-1),ie={class:"w-full grid grid-cols-3 gap-4"},de=e("div",{class:"font-bold text-3xl"},"1 Cal",-1),me=e("div",{class:"ml-1 text-gray-600 dark:text-gray-300"},"Calories Burn",-1),_e=e("div",{class:"font-bold text-3xl"},"19.03",-1),ue=e("div",{class:"ml-1 text-gray-600 dark:text-gray-300"},"BMI",-1),pe={class:"flex flex-col gap-2"},ye={class:"font-semibold mb-1"},fe={class:"text-sm flex gap-2 divide-x divide-gray-500/50"},xe={class:"pl-2"},ge={class:"flex flex-col items-end"},be={class:"text-xs flex items-center"},he={class:"flex items-center gap-1"},ve=e("span",null,"1Cal",-1),ke={key:0,class:"text-center"},Pe=V({__name:"index",async setup(Ce){let u,T;const w=z(),v=x(()=>Number(w.params.companyId||"0"));v.value||D("/dashboard/company");const{data:d,pending:Ie}=([u,T]=G(()=>b(h.Company.Company.url(v.value))),u=await u,T(),u),L=x(()=>{var t,a;return(a=(t=d.value)==null?void 0:t.company)==null?void 0:a._id}),M=(()=>{const{data:t}=b(h.Company.Exercises.url(v.value)),a=[{key:"no",label:"#"},{key:"name",label:"Name"},{key:"type",label:"type"},{key:"difficulty",label:"difficulty"},{key:"duration",label:"Duration"},{key:"actions"}],l=x(()=>{var c;return(((c=t.value)==null?void 0:c.exercises)||[]).map((i,C)=>({no:C+1,name:i.name,duration:i.duration+" seconds",type:i.type,difficulty:i.difficulty}))});return{data:t,columns:a,exercises:l}})(),k=(()=>{const{data:t,pending:a}=b(h.Session.All.url());return{sessions:x(()=>{var l;return(((l=t.value)==null?void 0:l.sessions)||[]).filter(c=>c.companyId===L.value)})}})(),N=async()=>{var t;try{const{data:a,status:l}=await b(h.Company.Leave.url(),{method:"DELETE",body:{code:(t=d.value)==null?void 0:t.company._id}});console.log(a),D("/dashboard/company")}catch(a){console.error(a)}};return(t,a)=>{var $;const l=W,c=O,i=Q,C=Z,Y=ee,p=q,A=se,I=oe,j=J,P=ae,U=te,F=X;return n(d)?(m(),g("div",le,[o(i,{company:($=n(d))==null?void 0:$.company},{default:s(()=>[e("div",re,[o(c,{items:[...n(d).company.isAdmin?[[{label:"Manage Company",icon:"i-heroicons-cog",to:`${n(w).params.companyId}/manage`}]]:[],[{label:"Leave company",icon:"i-heroicons-arrow-left-start-on-rectangle-20-solid",click:N}]]},{default:s(()=>[o(l,{icon:"i-heroicons-cog",variant:"ghost"})]),_:1},8,["items"])])]),_:1},8,["company"]),o(F,null,{default:s(()=>[o(Y,{class:"border-b-2 w-auto border-gray-500/20 rounded"},{default:s(()=>[(m(),g(S,null,H(["Home","My Session","Exercises","Program","Information"],(y,r)=>o(C,{as:"template"},{default:s(({selected:f})=>[e("button",{class:R({"px-2 py-2 text-sm ":!0,"rounded bg-gray-300/50 dark:bg-gray-700/50 font-bold":f,"":!f})},_(y),3)]),_:2},1024)),64))]),_:1}),o(U,null,{default:s(()=>[o(I,null,{default:s(()=>[e("div",null,[ce,e("div",ie,[o(A,{class:"relative border-b border-orange-500"},{default:s(()=>[o(p,{name:"lets-icons:calories-light",class:"text-6xl absolute right-0 top-0 mt-6 mr-4 text-orange-500"}),de,me]),_:1}),o(A,{class:"relative border-b border-green-500"},{default:s(()=>[o(p,{name:"healthicons:body-outline",class:"text-6xl absolute right-0 top-0 mt-6 mr-4 text-green-500"}),_e,ue]),_:1})])])]),_:1}),o(I,null,{default:s(()=>{var y;return[e("div",pe,[(m(!0),g(S,null,H(n(k).sessions.value,(r,f)=>(m(),K(j,{key:f,to:`/dashboard/session/${r._id}`,class:"transition-all duration-300 border border-main hover:border-primary-500 rounded-lg px-6 py-4 flex justify-between items-center"},{default:s(()=>{var B;return[e("div",null,[e("div",ye,[e("span",null,_(((B=r.exercise)==null?void 0:B.name)||"General"),1)]),e("div",fe,[e("div",null,_(t.$dayjs(r.createdAt).format("dddd, DD MMMM YYYY")),1),e("div",xe,_(t.$dayjs(r.createdAt).format("h:mm A")),1)])]),e("div",ge,[e("div",be,[e("div",he,[o(p,{name:"i-material-symbols-timer-outline-rounded",class:"text-lg text-green-500"}),e("span",null,_(("getTimeInMorS"in t?t.getTimeInMorS:n(ne))(r.startTime,r.endTime)),1)]),e("div",null,[o(p,{name:"lets-icons:calories-light",class:"text-2xl text-orange-500"}),ve])])])]}),_:2},1032,["to"]))),128)),!n(k).sessions.value||((y=n(k).sessions.value)==null?void 0:y.length)===0?(m(),g("div",ke,"no session recorded")):E("",!0)])]}),_:1}),o(I,null,{default:s(()=>[o(P,{columns:n(M).columns,rows:n(M).exercises.value},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})])):E("",!0)}}});export{Pe as default};
