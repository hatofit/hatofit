import{_ as te}from"./lNbjVntU.js";import{_ as le,m as ne,J as oe,g as $,h as W,i as H,l as ie,n as F,K as se,q as m,r as re,s as A,o as y,c as _,a as u,F as O,B as R,t as E,z as ue,A as C,v as G,b as l,y as L,L as U,M as de,G as ce,w as d,I as i,N as me,O as ge,e as fe,d as j,k as ve}from"./BqiWrrJw.js";import{_ as be}from"./CQlPFy4X.js";import{_ as pe}from"./Cxw5_Ya5.js";import{u as he}from"./Cb9RPHSR.js";import{_ as ye}from"./4x2wAUPl.js";import{_ as _e}from"./wkNDJbCe.js";import{u as we}from"./n4Xt2Puo.js";import{A as T,p as Ve}from"./CxOUCrNJ.js";import{z as p}from"./DXqQCM1T.js";import"./DqNYuvwW.js";import"./Doeqeqsn.js";const h=ne($.ui.strategy,$.ui.select,oe),Ie=W({components:{UIcon:H},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>h.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>h.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(h.size).includes(e)}},color:{type:String,default:()=>h.default.color,validator(e){return[...$.ui.colors,...Object.keys(h.color)].includes(e)}},variant:{type:String,default:()=>h.default.variant,validator(e){return[...Object.keys(h.variant),...Object.values(h.color).flatMap(c=>Object.keys(c))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:c,slots:w}){const{ui:a,attrs:z}=ie("select",F(e,"ui"),h,F(e,"class")),{size:V,rounded:t}=se({ui:a,props:e}),{emitFormChange:o,inputId:v,color:r,size:g,name:f}=he(e,h),b=m(()=>V.value||g.value),k=n=>{c("update:modelValue",n.target.value)},B=n=>{c("change",n.target.value),o()},s=n=>U(n,e.valueAttribute,U(n,e.optionAttribute)),D=n=>U(n,e.optionAttribute,U(n,e.valueAttribute)),q=n=>["string","number","boolean"].includes(typeof n)?{[e.valueAttribute]:n,[e.optionAttribute]:n}:{...n,[e.valueAttribute]:s(n),[e.optionAttribute]:D(n)},M=m(()=>e.options.map(n=>q(n))),P=m(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...M.value]:M.value),J=m(()=>{const n=q(e.modelValue),I=P.value.find(S=>S[e.valueAttribute]===n[e.valueAttribute]);return I?I[e.valueAttribute]:""}),K=m(()=>{var I,S;const n=((S=(I=a.value.color)==null?void 0:I[r.value])==null?void 0:S[e.variant])||a.value.variant[e.variant];return re(A(a.value.base,a.value.form,t.value,a.value.size[b.value],e.padded?a.value.padding[b.value]:"p-0",n==null?void 0:n.replaceAll("{color}",r.value),(N.value||w.leading)&&a.value.leading.padding[b.value],(x.value||w.trailing)&&a.value.trailing.padding[b.value]),e.placeholder&&!e.modelValue&&a.value.placeholder,e.selectClass)}),N=m(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),x=m(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),Z=m(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),Q=m(()=>e.loading&&!N.value?e.loadingIcon:e.trailingIcon||e.icon),X=m(()=>A(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[b.value])),Y=m(()=>A(a.value.icon.base,r.value&&$.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[b.value],e.loading&&a.value.icon.loading)),ee=m(()=>A(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[b.value])),ae=m(()=>A(a.value.icon.base,r.value&&$.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[b.value],e.loading&&!N.value&&a.value.icon.loading));return{ui:a,attrs:z,name:f,inputId:v,normalizedOptionsWithPlaceholder:P,normalizedValue:J,isLeading:N,isTrailing:x,selectClass:K,leadingIconName:Z,leadingIconClass:Y,leadingWrapperIconClass:X,trailingIconName:Q,trailingIconClass:ae,trailingWrapperIconClass:ee,onInput:k,onChange:B}}}),Ae=["id","name","value","required","disabled"],Ce=["value","label"],$e=["value","selected","disabled","textContent"],ze=["value","selected","disabled","textContent"];function Ne(e,c,w,a,z,V){const t=H;return y(),_("div",{class:C(e.ui.wrapper)},[u("select",ue({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:c[0]||(c[0]=(...o)=>e.onInput&&e.onInput(...o)),onChange:c[1]||(c[1]=(...o)=>e.onChange&&e.onChange(...o))}),[(y(!0),_(O,null,R(e.normalizedOptionsWithPlaceholder,(o,v)=>(y(),_(O,null,[o.children?(y(),_("optgroup",{key:`${o[e.valueAttribute]}-optgroup-${v}`,value:o[e.valueAttribute],label:o[e.optionAttribute]},[(y(!0),_(O,null,R(o.children,(r,g)=>(y(),_("option",{key:`${r[e.valueAttribute]}-${v}-${g}`,value:r[e.valueAttribute],selected:r[e.valueAttribute]===e.normalizedValue,disabled:r.disabled,textContent:E(r[e.optionAttribute])},null,8,$e))),128))],8,Ce)):(y(),_("option",{key:`${o[e.valueAttribute]}-${v}`,value:o[e.valueAttribute],selected:o[e.valueAttribute]===e.normalizedValue,disabled:o.disabled,textContent:E(o[e.optionAttribute])},null,8,ze))],64))),256))],16,Ae),e.isLeading&&e.leadingIconName||e.$slots.leading?(y(),_("span",{key:0,class:C(e.leadingWrapperIconClass)},[G(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[l(t,{name:e.leadingIconName,class:C(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):L("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(y(),_("span",{key:1,class:C(e.trailingWrapperIconClass)},[G(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[l(t,{name:e.trailingIconName,class:C(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):L("",!0)],2)}const Se=le(Ie,[["render",Ne],["__scopeId","data-v-931b50ef"]]),Ue={class:"w-screen h-screen flex flex-col justify-center items-center p-4"},je={class:"max-w-screen-xl flex flex-1 w-full max-h-[900px] overflow-hidden rounded-3xl bg-red-500 border-2 border-gray-500/50"},ke={class:"flex-1 mx-auto w-full relative flex"},Be={class:"-z-0 absolute top-0 left-0 w-full h-full overflow-visible bg-blue-500"},Oe={class:"z-[1] flex-1 flex flex-row"},qe={class:"w-full md:w-1/2 lg:w-1/3 flex flex-col justify-between bg-gray-50 dark:bg-gray-950 p-8"},Me={class:"flex gap-4"},Pe={class:"flex gap-4"},xe={class:"flex justify-end"},Fe={class:"flex justify-center"},Re={class:"text-gray-600 dark:text-gray-300"},Ee={class:"w-0 lg:w-2/3 flex flex-col justify-end"},Ge={class:"h-[100px] pb-6 pr-8 flex items-center bg-gradient-to-t from-gray-950 to-transparent justify-end"},aa=W({__name:"register",setup(e){we({title:"Register",description:"Register account to access Hatofit"});const c=de(),w=p.object({firstName:p.string().min(4,"Must be at least 4 characters"),lastName:p.string().min(4,"Must be at least 4 characters"),email:p.string().email("Invalid email address"),password:p.string().min(8,"Must be at least 8 characters"),confirmPassword:p.string().min(8,"Must be at least 8 characters"),dateOfBirth:p.string(),weight:p.number().min(0,"Must be at least 0"),height:p.number().min(0,"Must be at least 0"),gender:p.enum(["male","female"])}),a=ce({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",dateOfBirth:"04/24/2023",weight:0,height:0,gender:"male",metricUnits:{energyUnits:"j",weightUnits:"kg",heightUnits:"cm"}});async function z(V){console.log(V.data);try{const t=await $fetch(T.Auth.Register.url(),{method:"POST",body:T.Auth.Register.parseData({...a})});c.add({title:"Success",description:"Successfully registered"}),me("/auth/login")}catch(t){if(t instanceof ge&&t.response){const[o,v]=Ve(t.response);if(o){c.add({title:"Error",description:v});return}}c.add({title:"Error",description:`Failed to register, cause: ${t}`})}}return(V,t)=>{const o=te,v=ve,r=fe,g=be,f=pe,b=Se,k=ye,B=_e;return y(),_("div",Ue,[u("div",je,[u("div",ke,[u("div",Be,[l(o,{src:"/images/scene/braden-collum-9HI8UJMSdZA-unsplash.jpg",alt:"Register",loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}})]),u("div",Oe,[u("div",qe,[u("div",null,[l(r,{to:"/"},{default:d(()=>[l(v,{variant:"link",color:"primary",icon:"i-heroicons-arrow-left"},{default:d(()=>[j("back")]),_:1})]),_:1})]),l(k,{schema:i(w),state:i(a),class:"flex flex-col gap-4",onSubmit:z},{default:d(()=>[u("div",Me,[l(f,{label:"First Name",name:"firstName",required:"",class:"flex-1"},{default:d(()=>[l(g,{modelValue:i(a).firstName,"onUpdate:modelValue":t[0]||(t[0]=s=>i(a).firstName=s),placeholder:"fist name"},null,8,["modelValue"])]),_:1}),l(f,{label:"Last Name",name:"lastName",required:"",class:"flex-1"},{default:d(()=>[l(g,{modelValue:i(a).lastName,"onUpdate:modelValue":t[1]||(t[1]=s=>i(a).lastName=s),placeholder:"last name"},null,8,["modelValue"])]),_:1})]),l(f,{label:"Email",name:"email",required:""},{default:d(()=>[l(g,{modelValue:i(a).email,"onUpdate:modelValue":t[2]||(t[2]=s=>i(a).email=s),type:"email",placeholder:"you@example.com",icon:"i-heroicons-envelope"},null,8,["modelValue"])]),_:1}),l(f,{label:"Password",name:"password",required:""},{default:d(()=>[l(g,{modelValue:i(a).password,"onUpdate:modelValue":t[3]||(t[3]=s=>i(a).password=s),type:"password",placeholder:"your secret password",icon:"i-heroicons-lock-closed"},null,8,["modelValue"])]),_:1}),l(f,{label:"Confirm Password",name:"confirmPassword",required:""},{default:d(()=>[l(g,{modelValue:i(a).confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=s=>i(a).confirmPassword=s),type:"password",placeholder:"your confirmation password",icon:"i-heroicons-lock-closed"},null,8,["modelValue"])]),_:1}),u("div",Pe,[l(f,{label:"Weight",name:"weight",required:"",class:"flex-1"},{default:d(()=>[l(g,{modelValue:i(a).weight,"onUpdate:modelValue":t[5]||(t[5]=s=>i(a).weight=s),type:"number",placeholder:"your weight"},null,8,["modelValue"])]),_:1}),l(f,{label:"Height",name:"height",required:"",class:"flex-1"},{default:d(()=>[l(g,{modelValue:i(a).height,"onUpdate:modelValue":t[6]||(t[6]=s=>i(a).height=s),type:"number",placeholder:"your height"},null,8,["modelValue"])]),_:1}),l(f,{label:"Gender",name:"gender",required:"",class:"flex-1"},{default:d(()=>[l(b,{modelValue:i(a).gender,"onUpdate:modelValue":t[7]||(t[7]=s=>i(a).gender=s),options:["male","female"]},null,8,["modelValue"])]),_:1})]),l(f,{label:"Date Of Birth",name:"confirmPassword",required:""},{default:d(()=>[l(g,{modelValue:i(a).dateOfBirth,"onUpdate:modelValue":t[8]||(t[8]=s=>i(a).dateOfBirth=s),type:"date",placeholder:"your date of birth"},null,8,["modelValue"])]),_:1}),u("div",xe,[l(v,{type:"submit",variant:"solid",class:"w-full flex justify-center",size:"lg"},{default:d(()=>[j("Register")]),_:1})]),u("div",Fe,[u("p",Re,[l(r,{to:"/auth/login",class:"text-primary-500"},{default:d(()=>[j("login")]),_:1}),j(" if you already have an account. ")])])]),_:1},8,["schema","state"]),u("div",null,[u("div",null,[l(B)])])]),u("div",Ee,[u("div",Ge,[l(o,{src:"/images/logo/secondary-dark.png",alt:"Hatofit Logo",loading:"lazy",style:{width:"auto",height:"100%"}})])])])])])])}}});export{aa as default};
