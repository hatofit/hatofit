import{h as N,D as $,n as J,C as P,K as v,P as D,o as e,v as d,w as t,b as c,I as a,c as u,a as o,d as s,t as g,M as F,j as I}from"./C4oi7rqb.js";import{_ as S}from"./CSiqqgES.js";import{_ as T}from"./B1SBta5Z.js";import{_ as V}from"./B5CnSoaN.js";import{a as E,u as R}from"./NTJ_zpcL.js";import{A as C}from"./Cy9l6Tiu.js";const U={key:0},K={key:1},L=o("div",{class:"text-red-500"},"Error",-1),M=[L],O={key:2,class:"w-full md:w-1/2"},W=o("div",{class:"flex justify-between"},[o("div",{class:"font-bold text-xl"},"Join Company")],-1),Y={class:"flex flex-col gap-2"},q={class:"text-center"},z={class:"font-bold"},G={class:"flex justify-end items-center gap-2"},at=N({__name:"[uuid]",async setup(H){let n,m;const w=$(),p=J(()=>w.params.uuid),k=P();p.value||v("/");const{data:_,status:f}=([n,m]=D(()=>E(C.Company.Company.url(p.value),"$vwRwJjy6Ny")),n=await n,m(),n),j=async()=>{var i;try{const{data:r,status:y}=await R(C.Company.Join.url(),{method:"POST",body:{code:(i=_.value)==null?void 0:i.company._id}});v("/dashboard/company")}catch(r){console.error(r)}};return(i,r)=>{const y=F,l=I,b=S,A=T,B=V;return e(),d(B,{class:"flex-1 flex flex-col gap-4 justify-center"},{default:t(()=>[c(A,{class:"flex flex-col items-center justify-center"},{default:t(()=>[a(f)=="pending"?(e(),u("div",U,[c(y,{name:"i-mingcute-loading-line",class:"text-4xl text-primary-500 animate-spin"})])):a(f)=="error"?(e(),u("div",K,M)):(e(),u("div",O,[c(b,null,{header:t(()=>[W]),default:t(()=>{var h,x;return[o("div",Y,[o("p",q,[s(" You are invited to join "),o("span",z,g((h=a(_))==null?void 0:h.company.name),1),s(", located at "+g((x=a(_))==null?void 0:x.company.address)+". ",1)]),o("div",G,[c(l,{to:"/",color:"gray"},{default:t(()=>[s("No, I dont")]),_:1}),a(k).status.value=="authenticated"?(e(),d(l,{key:0,color:"primary",onClick:j},{default:t(()=>[s("Join Company")]),_:1})):(e(),d(l,{key:1,color:"primary",to:"/auth/login"},{default:t(()=>[s("Login First")]),_:1}))])])]}),_:1})]))]),_:1})]),_:1})}}});export{at as default};
