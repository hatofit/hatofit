import{az as pe,_ as de,m as K,g as O,h as W,k as L,l as I,n as i,a0 as be,G as ce,o as c,c as p,s as R,d as P,x as S,b as _,w as z,a,y as N,t as b,F as T,A as D,v as Y,z as G,aB as fe,U as Z,r as M,Y as he,Z as ie,aW as ge,aC as ye,ab as B,C as xe,H as we,I as A,M as ke,j as _e}from"./B9LE8NEz.js";import{_ as me}from"./Yh1kJr-Y.js";import{u as ze}from"./d71RW6O6.js";import{_ as Ce}from"./C2zDVeAx.js";import{u as $e}from"./DTWwx6mV.js";import{R as Me}from"./EkKQlyvY.js";const ve={wrapper:"w-full flex flex-col gap-2",indicator:{container:"min-w-fit transition-all",text:"text-gray-400 dark:text-gray-500 text-end",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},meter:{base:"appearance-none block w-full bg-none overflow-y-hidden",background:"bg-gray-200 dark:bg-gray-700",color:"text-{color}-500 dark:text-{color}-400",ring:"",rounded:"rounded-full",shadow:"",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"},appearance:{inner:"[&::-webkit-meter-inner-element]:block [&::-webkit-meter-inner-element]:relative [&::-webkit-meter-inner-element]:border-none [&::-webkit-meter-inner-element]:bg-none [&::-webkit-meter-inner-element]:bg-transparent",meter:"[&::-webkit-meter-bar]:border-none [&::-webkit-meter-bar]:bg-none [&::-webkit-meter-bar]:bg-transparent",bar:"[&::-webkit-meter-optimum-value]:border-none [&::-webkit-meter-optimum-value]:bg-none [&::-webkit-meter-optimum-value]:bg-current",value:"[&::-moz-meter-bar]:border-none [&::-moz-meter-bar]:bg-none [&::-moz-meter-bar]:bg-current"},bar:{transition:"[&::-webkit-meter-optimum-value]:transition-all [&::-moz-meter-bar]:transition-all",ring:"",rounded:"[&::-webkit-meter-optimum-value]:rounded-full [&::-moz-meter-bar]:rounded-full",size:{"2xs":"[&::-webkit-meter-optimum-value]:h-px [&::-moz-meter-bar]:h-px",xs:"[&::-webkit-meter-optimum-value]:h-0.5 [&::-moz-meter-bar]:h-0.5",sm:"[&::-webkit-meter-optimum-value]:h-1 [&::-moz-meter-bar]:h-1",md:"[&::-webkit-meter-optimum-value]:h-2 [&::-moz-meter-bar]:h-2",lg:"[&::-webkit-meter-optimum-value]:h-3 [&::-moz-meter-bar]:h-3",xl:"[&::-webkit-meter-optimum-value]:h-4 [&::-moz-meter-bar]:h-4","2xl":"[&::-webkit-meter-optimum-value]:h-5 [&::-moz-meter-bar]:h-5"}}},label:{base:"flex gap-2 items-center",text:"truncate",color:"text-{color}-500 dark:text-{color}-400",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},color:{white:"text-white dark:text-black",black:"text-black dark:text-white",gray:"text-gray-500 dark:text-gray-400"},default:{size:"md",color:"primary"}},je={wrapper:"flex flex-col gap-2 w-full",base:"flex flex-row flex-nowrap flex-shrink overflow-hidden",background:"bg-gray-200 dark:bg-gray-700",transition:"transition-all",rounded:"rounded-full",shadow:"",list:"list-disc list-inside",orientation:{"rounded-none":{left:"rounded-s-none",right:"rounded-e-none"},"rounded-sm":{left:"rounded-s-sm",right:"rounded-e-sm"},rounded:{left:"rounded-s",right:"rounded-e"},"rounded-md":{left:"rounded-s-md",right:"rounded-e-md"},"rounded-lg":{left:"rounded-s-lg",right:"rounded-e-lg"},"rounded-xl":{left:"rounded-s-xl",right:"rounded-e-xl"},"rounded-2xl":{left:"rounded-s-2xl",right:"rounded-e-2xl"},"rounded-3xl":{left:"rounded-s-3xl",right:"rounded-e-3xl"},"rounded-full":{left:"rounded-s-full",right:"rounded-e-full"}},default:{size:"md",icon:"i-heroicons-minus-20-solid"}},Ae={wrapper:"relative inline-flex",container:"z-20 group",width:"max-w-xs",background:"bg-white dark:bg-gray-900",color:"text-gray-900 dark:text-white",shadow:"shadow",rounded:"rounded",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"[@media(pointer:coarse)]:hidden h-6 px-2 py-1 text-xs font-normal truncate relative",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5",middot:"mx-1 text-gray-700 dark:text-gray-200",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:{...pe,base:"[@media(pointer:coarse)]:hidden invisible before:visible before:block before:rotate-45 before:z-[-1] before:w-2 before:h-2"}},q=K(O.ui.strategy,O.ui.tooltip,Ae),Se=W({components:{UKbd:me},inheritAttrs:!1,props:{text:{type:String,default:null},prevent:{type:Boolean,default:!1},shortcuts:{type:Array,default:()=>[]},openDelay:{type:Number,default:()=>q.default.openDelay},closeDelay:{type:Number,default:()=>q.default.closeDelay},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:r,attrs:m}=L("tooltip",I(e,"ui"),q,I(e,"class")),C=i(()=>be({},e.popper,r.value.popper)),[o,j]=ze(C.value),f=ce(!1);let d=null,h=null;function $(){h&&(clearTimeout(h),h=null),!f.value&&(d=d||setTimeout(()=>{f.value=!0,d=null},e.openDelay))}function k(){d&&(clearTimeout(d),d=null),f.value&&(h=h||setTimeout(()=>{f.value=!1,h=null},e.closeDelay))}return{ui:r,attrs:m,popper:C,trigger:o,container:j,open:f,onMouseEnter:$,onMouseLeave:k}}});function Ne(e,r,m,C,o,j){const f=me;return c(),p("div",G({ref:"trigger",class:e.ui.wrapper},e.attrs,{onMouseenter:r[0]||(r[0]=(...d)=>e.onMouseEnter&&e.onMouseEnter(...d)),onMouseleave:r[1]||(r[1]=(...d)=>e.onMouseLeave&&e.onMouseLeave(...d))}),[R(e.$slots,"default",{open:e.open},()=>[P(" Hover ")]),e.open&&!e.prevent?(c(),p("div",{key:0,ref:"container",class:S([e.ui.container,e.ui.width])},[_(fe,G({appear:""},e.ui.transition),{default:z(()=>{var d;return[a("div",null,[e.popper.arrow?(c(),p("div",{key:0,"data-popper-arrow":"",class:S(Object.values(e.ui.arrow))},null,2)):N("",!0),a("div",{class:S([e.ui.base,e.ui.background,e.ui.color,e.ui.rounded,e.ui.shadow,e.ui.ring])},[R(e.$slots,"text",{},()=>[P(b(e.text),1)]),(d=e.shortcuts)!=null&&d.length?(c(),p("span",{key:0,class:S(e.ui.shortcuts)},[a("span",{class:S(e.ui.middot)},"Â·",2),(c(!0),p(T,null,D(e.shortcuts,h=>(c(),Y(f,{key:h,size:"xs"},{default:z(()=>[P(b(h),1)]),_:2},1024))),128))],2)):N("",!0)],2)])]}),_:3},16)],2)):N("",!0)],16)}const Oe=de(Se,[["render",Ne]]),F=K(O.ui.strategy,O.ui.meter,ve),Be=W({components:{UIcon:Z},inheritAttrs:!1,slots:Object,props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},indicator:{type:Boolean,default:!1},label:{type:String,default:null},size:{type:String,default:()=>F.default.size,validator(e){return Object.keys(F.meter.size).includes(e)}},color:{type:String,default:()=>F.default.color,validator(e){return[...O.ui.colors,...Object.keys(F.color)].includes(e)}},icon:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:r,attrs:m}=L("meter",I(e,"ui"),F,I(e,"class"));function C(u,s,w){if(s==w)return u<s?0:100;s>w&&(w=[s,s=w][0]);const g=(u-s)/(w-s)*100;return Math.max(0,Math.min(100,g))}const o=i(()=>M(r.value.indicator.container)),j=i(()=>M(r.value.indicator.text,r.value.indicator.size[e.size])),f=i(()=>M(r.value.meter.base,r.value.meter.background,r.value.meter.ring,r.value.meter.rounded,r.value.meter.shadow,r.value.color[e.color]??r.value.meter.color.replaceAll("{color}",e.color),r.value.meter.size[e.size])),d=i(()=>M(r.value.meter.appearance.inner,r.value.meter.appearance.meter,r.value.meter.appearance.bar,r.value.meter.appearance.value)),h=i(()=>M(r.value.meter.bar.transition,r.value.meter.bar.ring,r.value.meter.bar.rounded,r.value.meter.bar.size[e.size])),$=i(()=>M(r.value.label.base,r.value.label.text,r.value.color[e.color]??r.value.label.color.replaceAll("{color}",e.color),r.value.label.size[e.size])),k=i(()=>e.min>e.max?e.max:e.min),v=i(()=>e.max<e.min?e.min:e.max),x=i(()=>C(Number(e.value),k.value,v.value));return{ui:r,attrs:m,indicatorContainerClass:o,indicatorClass:j,meterClass:f,meterAppearanceClass:d,meterBarClass:h,labelClass:$,normalizedMin:k,normalizedMax:v,percent:x}}}),Te=["value","min","max"];function De(e,r,m,C,o,j){const f=Z;return c(),p("div",G({class:e.ui.wrapper},e.attrs),[e.indicator||e.$slots.indicator?R(e.$slots,"indicator",ie(G({key:0},{percent:e.percent,value:e.value})),()=>[a("div",{class:S(e.indicatorContainerClass),style:he({width:`${e.percent}%`})},[a("div",{class:S(e.indicatorClass)},b(Math.round(e.percent))+"% ",3)],6)]):N("",!0),a("meter",{value:e.value,min:e.normalizedMin,max:e.normalizedMax,class:S([e.meterClass,e.meterAppearanceClass,e.meterBarClass])},null,10,Te),e.label||e.$slots.label?R(e.$slots,"label",ie(G({key:1},{percent:e.percent,value:e.value})),()=>[a("div",{class:S(e.labelClass)},[e.icon?(c(),Y(f,{key:0,name:e.icon},null,8,["name"])):N("",!0),P(" "+b(e.label),1)],2)]):N("",!0)],16)}const Ue=de(Be,[["render",De]]),J=K(O.ui.strategy,O.ui.meter,ve),ue=K(O.ui.strategy,O.ui.meterGroup,je),He=W({components:{UIcon:Z},inheritAttrs:!1,slots:Object,props:{min:{type:Number,default:0},max:{type:Number,default:100},size:{type:String,default:()=>J.default.size,validator(e){return Object.keys(J.meter.bar.size).includes(e)}},indicator:{type:Boolean,default:!1},icon:{type:String,default:()=>ue.default.icon},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e,{slots:r}){const{ui:m,attrs:C}=L("meterGroup",I(e,"ui"),ue),{ui:o}=L("meter",void 0,J);if(!r.default)throw new Error("Meter Group has no Meter children.");const j=i(()=>e.min>e.max?e.max:e.min),f=i(()=>e.max<e.min?e.min:e.max),d=i(()=>ge(r)),h=i(()=>m.value.orientation[m.value.rounded]);function $(l,n,t){if(n==t)return l<n?0:100;n>t&&(t=[n,n=t][0]);const y=(l-n)/(t-n)*100;return Math.max(0,Math.min(100,y))}const k=i(()=>d.value.map(l=>l.props.label)),v=i(()=>d.value.map(l=>$(l.props.value,e.min,e.max))),x=i(()=>Math.max(0,Math.max(v.value.reduce((l,n)=>l+n,0)))),u=i(()=>d.value.map((l,n)=>{var H,E,V,Q,X,ee,te,re,ae,ne,oe,le,se;const t={};t.style={width:`${v.value[n]}%`},t.size=e.size,t.min=j.value,t.max=f.value,t.ui=((H=l.props)==null?void 0:H.ui)||{},t.ui.wrapper=((V=(E=l.props)==null?void 0:E.ui)==null?void 0:V.wrapper)||"",t.ui.wrapper+=[(X=(Q=l.props)==null?void 0:Q.ui)==null?void 0:X.wrapper,m.value.background,m.value.transition].filter(Boolean).join(" "),t.ui.meter=((te=(ee=l.props)==null?void 0:ee.ui)==null?void 0:te.meter)||{},t.ui.meter.background=`bg-${l.props.color}-500 dark:bg-${l.props.color}-400`,t.ui.meter.rounded="rounded-none",t.ui.meter.bar=((ne=(ae=(re=l.props)==null?void 0:re.ui)==null?void 0:ae.meter)==null?void 0:ne.bar)||{},n===0&&(t.ui.meter.rounded=`${h.value.left} rounded-e-none`),n===d.value.length-1&&(t.ui.meter.rounded=`${h.value.right} rounded-s-none`),k.value[n]=l.props.label;const y=ye(l,t);return(oe=y.children)==null||delete oe.label,(le=y.props)==null||delete le.indicator,(se=y.props)==null||delete se.label,y})),s=i(()=>M(m.value.base,m.value.background,m.value.rounded,m.value.shadow,o.value.meter.size[e.size])),w=i(()=>M(o.value.indicator.container)),g=i(()=>M(o.value.indicator.text,o.value.indicator.size[e.size])),U=i(()=>{const l=[void 0,B("div",{class:s.value},u.value),void 0];return e.indicator?l[0]=B("div",{class:w.value},[B("div",{class:g.value,style:{width:`${x.value}%`}},Math.round(x.value)+"%")]):r.indicator&&(l[0]=r.indicator({percent:x.value})),l[2]=B("ol",{class:m.value.list},k.value.map((n,t)=>{var H;const y=i(()=>{var E,V;return M(o.value.label.base,o.value.label.text,o.value.color[(E=u.value[t])==null?void 0:E.props.color]??o.value.label.color.replaceAll("{color}",((V=u.value[t])==null?void 0:V.props.color)??o.value.default.color),o.value.label.size[e.size])});return B("li",{class:y.value},[B(Z,{name:((H=u.value[t])==null?void 0:H.props.icon)??e.icon}),`${n} (${Math.round(v.value[t])}%)`])})),l});return()=>B("div",{class:m.value.wrapper,...C.value},U.value)}}),Ee={class:"flex flex-col gap-4"},Ve=a("div",{class:"flex justify-between"},[a("div",{class:"flex items-end gap-2"},[a("h2",{class:"text-xl font-semibold"},"Heart rate")])],-1),Fe={class:"flex justify-around mb-6"},Ge={class:"text-center"},Ie={class:"mb-2"},Pe={class:"text-5xl"},Le={key:0,class:"text-sm text-gray-500"},Re={class:"absolute right-[-15px] top-[-5px]"},Ze={key:0,class:"border-t border-gray-500/50 py-6 mt-6"},Ke=a("div",{class:"flex items-center justify-center mb-3"},"Another Recommendation Max HR",-1),We={class:"grid grid-cols-4 gap-2"},qe={class:"text-sm text-gray-500"},Je={class:"absolute right-[-15px] top-[-5px]"},Ye={key:1,class:"flex justify-center items-center"},Qe=a("div",{class:"flex justify-between"},[a("div",{class:"flex items-end gap-2"},[a("h2",{class:"text-xl font-semibold"},"Training Intensity")])],-1),Xe={class:"border-t border-gray-500/50 py-6 mt-6"},et=a("div",null,"Zone Summary",-1),tt={class:"text-sm"},rt={class:"text-xs"},at=a("div",{class:"flex justify-between"},[a("div",{class:"flex items-end gap-2"},[a("h2",{class:"text-xl font-semibold"},"Energy Expenditure")])],-1),nt={class:"flex justify-around mb-6"},ot={class:"text-center"},lt={class:"mb-2"},st={class:"text-3xl"},pt=W({__name:"StatWidget",props:{data:{type:Object,required:!0}},setup(e){const r=e,m=$e(),C=xe(),o=i(()=>{var v;try{return Math.abs(Number(m((v=C.data.value)==null?void 0:v.user.dateOfBirth).diff(m(),"year")))}catch{return 0}});function j(v,x){const u=208-.7*x,s={maximum:[.9*u,u,"90% - 100%"],anaerobic:[.8*u,.89*u,"80% - 89%"],aerobic:[.7*u,.79*u,"70% - 79%"],endurance:[.6*u,.69*u,"60% - 69%"],recovery:[.5*u,.59*u,"50% - 59%"],lifeActive:[0,.49*u,"0% - 49%"]},w=v.datasets[0].data,g={maximum:0,anaerobic:0,aerobic:0,endurance:0,recovery:0,lifeActive:0};w.forEach(n=>{n>=s.maximum[0]&&n<=s.maximum[1]?g.maximum+=1:n>=s.anaerobic[0]&&n<=s.anaerobic[1]?g.anaerobic+=1:n>=s.aerobic[0]&&n<=s.aerobic[1]?g.aerobic+=1:n>=s.endurance[0]&&n<=s.endurance[1]?g.endurance+=1:n>=s.recovery[0]&&n<=s.recovery[1]?g.recovery+=1:g.lifeActive+=1});const U=w.length,l=[];for(const[n,t]of Object.entries(g))l.push({name:n,seconds:t,percent:t/U*100,maxVal:s[n][1],minVal:s[n][0],label:`${n} ${s[n][2]}`});return console.log("intensitySummary",l),l}const f=i(()=>{const v=r.data.report.reports.find(s=>s.type==="hr");if(!v)return;const u=new Me().parse(v.data);return j(u,o.value)}),d=v=>m().startOf("day").add(v,"seconds").format("HH:mm:ss"),h=v=>{switch(v){case 0:return"gray";case 1:return"red";case 2:return"yellow";case 3:return"green";case 4:return"green";default:return"gray"}},$=i(()=>[{label:"Tanaka",value:208-.7*o.value,func:`208 - (0.7 * ${o.value})`,priority:o.value<30?10:2},{label:"Fox",value:220-o.value,func:`220 - ${o.value}`,priority:o.value>30?10:2},{label:"Gellish",value:207-.7*o.value,func:`207 - (0.7 * ${o.value})`,priority:1},{label:"Nes",value:211-.64*o.value,func:`211 - (0.64 * ${o.value})`,priority:1}]),k=ce(!1);return(v,x)=>{const u=ke,s=Oe,w=_e,g=Ce,U=Ue,l=He,n=we("Doughnut");return c(),p("div",Ee,[_(g,null,{header:z(()=>[Ve]),default:z(()=>[a("div",Fe,[(c(!0),p(T,null,D([["Age",A(o)],["Recomendation Max HR",A($)[0].value,A($)[0].label]],(t,y)=>(c(),p("div",Ge,[a("div",Ie,b(t[0]),1),a("div",Pe,b(t[1]),1),t[2]?(c(),p("div",Le,[_(s,{text:`Formula: ${A($)[0].func}`,class:""},{default:z(()=>[a("div",null,b(t[2]),1),a("div",Re,[_(u,{name:"i-heroicons-information-circle",class:"w-3 h-3"})])]),_:2},1032,["text"])])):N("",!0)]))),256))]),A(k)?(c(),p("div",Ze,[Ke,a("div",We,[(c(!0),p(T,null,D(A($),(t,y)=>(c(),p("div",{key:y,class:"border border-gray-500/50 p-2 rounded"},[a("div",null,b(t.label),1),a("div",null,b(t.value),1),a("div",qe,[_(s,{text:`Formula: ${t.func}`,class:""},{default:z(()=>[a("div",null,b(t.func),1),a("div",Je,[_(u,{name:"i-heroicons-information-circle",class:"w-3 h-3"})])]),_:2},1032,["text"])])]))),128))])])):N("",!0),A(k)?N("",!0):(c(),p("div",Ye,[_(w,{label:"Show all heart rate formular",variant:"ghost",color:"blue","trailing-icon":"i-heroicons-chevron-down",class:"animate-bounce",onClick:x[0]||(x[0]=t=>k.value=!0)})]))]),_:1}),_(g,null,{header:z(()=>[Qe]),default:z(()=>[_(l,{min:0,max:100,size:"md",indicator:"",icon:"i-heroicons-minus"},{default:z(()=>[(c(!0),p(T,null,D(A(f),(t,y)=>(c(),Y(U,{key:y,value:t.percent,color:h(y),label:`${t.label}`,icon:(t.name==="maximum"||t.name==="anaerobic"||t.name==="aerobic"||t.name==="endurance","i-heroicons-fire-20-solid")},null,8,["value","color","label","icon"]))),128))]),_:1}),a("div",Xe,[et,(c(!0),p(T,null,D(A(f),t=>(c(),p("div",{key:t.name,class:"flex justify-between"},[a("div",tt,b(t.name)+" ("+b(Math.round(t.minVal))+" - "+b(Math.round(t.maxVal))+"bpm) ",1),a("div",rt,b(t.seconds)+"s | "+b(d(t.seconds)),1)]))),128))])]),_:1}),_(g,null,{header:z(()=>[at]),default:z(()=>[a("div",nt,[(c(),p(T,null,D([{label:"Active",value:"558cal"},{label:"Afterburn",value:"100cal"}],(t,y)=>a("div",ot,[a("div",lt,b(t.label),1),a("div",st,b(t.value),1)])),64))]),a("div",null,[_(n,{data:{labels:["Afterburn","Active"],datasets:[{backgroundColor:["#41B883","#E46651"],data:[75,25]}]},options:{responsive:!0,maintainAspectRatio:!1}})])]),_:1})])}}});export{pt as default};
